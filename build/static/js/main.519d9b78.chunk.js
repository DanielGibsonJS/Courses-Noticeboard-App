(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{174:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(30),l=a.n(s),o=(a(62),a(3)),i=a(4),c=a(6),m=a(5),d=a(8),u=a(7),h=a(1),p=a(18),E=a(9),g=a.n(E),v=function(){return JSON.parse(localStorage.getItem("IsLoggedIn"))?r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"bounds"},r.a.createElement(h.b,{to:"/"},r.a.createElement("h1",{className:"header--logo"},"Courses")),r.a.createElement("nav",null,r.a.createElement("span",null,"Welcome ".concat(localStorage.getItem("FirstName")," ").concat(localStorage.getItem("LastName"),"!")),r.a.createElement(h.b,{className:"signin",to:"/signout"},"Sign Out")))):r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"bounds"},r.a.createElement(h.b,{to:"/"},r.a.createElement("h1",{className:"header--logo"},"Courses")),r.a.createElement("nav",null,r.a.createElement(h.b,{className:"signup",to:"/signup"},"Sign Up"),r.a.createElement(h.b,{className:"signin",to:"/signin"},"Sign In"))))},b=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={courses:[]},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.a.get("https://rest-api-project-9.herokuapp.com/api/courses/").then(function(t){e.setState({courses:t.data})}).catch(function(t){500===t.response.status?(console.error("Error fetching and parsing data",t),e.props.history.push("/error")):e.props.history.push("/notfound")})}},{key:"render",value:function(){var e=this.state.courses;return r.a.createElement("div",{className:"bounds"},e.map(function(e,t){return r.a.createElement("div",{className:"grid-33",key:t},r.a.createElement(h.b,{className:"course--module course--link",to:"/courses/"+e.id},r.a.createElement("h4",{className:"course--label"},"Course"),r.a.createElement("h3",{className:"course--title"},e.title)))}),r.a.createElement("div",{className:"grid-33"},r.a.createElement(h.b,{className:"course--module course--add--module",to:"/courses/create"},r.a.createElement("h3",{className:"course--add--title"},r.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 13 13",className:"add"},r.a.createElement("polygon",{points:"7,6 7,0 6,0 6,6 0,6 0,7 6,7 6,13 7,13 7,7 13,7 13,6 "})),"New Course"))))}}]),t}(n.Component),N=a(33),f=a.n(N),w=a(55),S=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={course:[],user:[]},a.handleDelete=a.handleDelete.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;g.a.get("https://rest-api-project-9.herokuapp.com/api/courses/".concat(t)).then(function(t){e.setState({course:t.data,user:t.data.User})}).catch(function(t){500===t.response.status?(console.error("Error fetching and parsing data",t),e.props.history.push("/error")):e.props.history.push("/notfound")})}},{key:"handleDelete",value:function(){var e=this,t=this.props,a=t.match.params,n=t.history;g.a.delete("https://rest-api-project-9.herokuapp.com/api/courses/".concat(a.id),{auth:{username:window.localStorage.getItem("EmailAddress"),password:window.localStorage.getItem("Password")}}).then(function(){n.push("/")}).catch(function(t){500===t.response.status?(console.error("Error fetching and parsing data",t),e.props.history.push("/error")):e.props.history.push("/notfound")})}},{key:"render",value:function(){var e=this,t=this.state,a=t.course,n=t.user,s=localStorage.getItem("IsLoggedIn"),l=JSON.parse(localStorage.getItem("UserId"));return r.a.createElement(w.Spring,{from:{opacity:0},to:{opacity:1}},function(t){return r.a.createElement("div",{style:t},r.a.createElement("div",{className:"actions--bar"},r.a.createElement("div",{className:"bounds"},r.a.createElement("div",{className:"grid-100"},s&&n.id===l?r.a.createElement("span",null,r.a.createElement(h.b,{className:"button",to:"/courses/".concat(a.id,"/update")},"Update Course"),r.a.createElement("button",{className:"button",to:"#",onClick:e.handleDelete},"Delete Course")):"",r.a.createElement(h.b,{className:"button button-secondary",to:"/"},"Return to List")))),r.a.createElement("div",{className:"bounds course--detail"},r.a.createElement("div",{className:"grid-66"},r.a.createElement("div",{className:"course--header"},r.a.createElement("h4",{className:"course--label"},"Course"),r.a.createElement("h3",{className:"course--title"},a.title),r.a.createElement("p",null,"By ",n.firstName," ",n.lastName)),r.a.createElement("div",{className:"course-description"},r.a.createElement(f.a,{source:a.description}))),r.a.createElement("div",{className:"grid-25 grid-right"},r.a.createElement("div",{className:"course--stats"},r.a.createElement("ul",{className:"course--stats--list"},r.a.createElement("li",{className:"course--stats--list--item"},r.a.createElement("h4",null,"Estimated Time"),r.a.createElement("h3",null,a.estimatedTime)),r.a.createElement("li",{className:"course--stats--list--item"},r.a.createElement("h4",null,"Materials Needed"),r.a.createElement("ul",null,r.a.createElement(f.a,{source:a.materialsNeeded}))))))))})}}]),t}(n.Component),y=a(17),C=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e){var t=a.state,n=t.emailAddress,r=t.password;e.preventDefault(),a.props.handleSignIn(n,r)},a.handleChange=function(e){a.setState(Object(y.a)({},e.target.name,e.target.value))},a.state={emailAddress:"",password:""},a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"bounds"},localStorage.getItem("IsLoggedIn")&&this.props.history.goBack(),r.a.createElement("div",{className:"grid-33 centered signin"},r.a.createElement("h1",null,"Sign In"),r.a.createElement("div",null,this.props.validationError&&r.a.createElement("div",null,r.a.createElement("h2",{className:"validation--errors--label"},"Validation error"),r.a.createElement("br",null),r.a.createElement("div",{className:"validation-errors"},r.a.createElement("p",null,this.props.validationError))),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",null,r.a.createElement("input",{id:"emailAddress",name:"emailAddress",type:"email",className:"",placeholder:"Email Address",value:this.state.emailAddress,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",null,r.a.createElement("input",{id:"password",name:"password",type:"password",className:"",placeholder:"Password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"grid-100 pad-bottom"},r.a.createElement("button",{className:"button",type:"sumbit"},"Sign In"),r.a.createElement(h.b,{className:"button button-secondary",to:"/"},"Cancel"))),r.a.createElement("p",null,"\xa0"),r.a.createElement("p",null,"Don't have a user account?",r.a.createElement(h.b,{to:"/signup"}," Click here "),"to sign up!"))))}}]),t}(n.Component),I=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e){var t=a.state,n=t.password,r=t.confirmPassword;e.preventDefault(),n===r?(a.setState({passwordsNotMatching:!1}),a.handleSignUp()):a.setState({passwordsNotMatching:!0})},a.handleSignUp=function(){var e=a.state,t=e.firstName,n=e.lastName,r=e.emailAddress,s=e.password,l=e.confirmPassword;g()({method:"post",url:"https://rest-api-project-9.herokuapp.com/api/users/",data:{firstName:t,lastName:n,emailAddress:r,password:s,confirmPassword:l}}).then(function(){a.props.handleSignIn(r,s)}).catch(function(e){500===e.response.status?(console.error("Error fetching and parsing data",e),a.props.history.push("/error")):e.response.data.message?a.setState({emailInUseError:e.response.data.message}):a.setState({validationErrors:e.response.data.errors})})},a.handleChange=function(e){a.setState(Object(y.a)({},e.target.name,e.target.value))},a.state={firstName:"",lastName:"",emailAddress:"",password:"",confirmPassword:"",validationErrors:[],emailInUseError:"",passwordsNotMatching:!1},a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.validationErrors,n=t.emailInUseError,s=t.passwordsNotMatching;return r.a.createElement("div",{className:"bounds"},localStorage.getItem("IsLoggedIn")&&this.props.history.push("/"),r.a.createElement("div",{className:"grid-33 centered signin"},r.a.createElement("h1",null,"Sign Up"),r.a.createElement("div",null,r.a.createElement("div",{className:"validation-errors"},r.a.createElement("ul",null,a?a.map(function(e){return r.a.createElement("li",{key:e.toString()},e)}):"",s?r.a.createElement("li",null,"Passwords are not matching"):"",n?r.a.createElement("li",null,n):"")),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",null,r.a.createElement("input",{id:"firstName",name:"firstName",type:"text",className:"",placeholder:"First Name",value:this.state.firstName,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",null,r.a.createElement("input",{id:"lastName",name:"lastName",type:"text",className:"",placeholder:"Last Name",value:this.state.lastName,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",null,r.a.createElement("input",{id:"emailAddress",name:"emailAddress",type:"email",className:"",placeholder:"Email Address",value:this.state.emailAddress,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",null,r.a.createElement("input",{id:"password",name:"password",type:"password",className:"",placeholder:"Password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",null,r.a.createElement("input",{id:"confirmPassword",name:"confirmPassword",type:"password",className:"",placeholder:"Confirm Password",value:this.state.confirmPassword,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"grid-100 pad-bottom"},r.a.createElement("button",{className:"button",type:"sumbit"},"Sign Up"),r.a.createElement(h.b,{className:"button button-secondary",to:"/"},"Cancel"))),r.a.createElement("p",null,"\xa0"),r.a.createElement("p",null,"Already have a user account?",r.a.createElement(h.b,{to:"/signin"}," Click here "),"to sign in!"))))}}]),t}(n.Component),O=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){window.localStorage.removeItem("FirstName"),window.localStorage.removeItem("LastName"),window.localStorage.removeItem("EmailAddress"),window.localStorage.removeItem("Password"),window.localStorage.removeItem("UserId"),window.localStorage.removeItem("IsLoggedIn"),window.localStorage.removeItem("id"),window.localStorage.removeItem("name"),window.localStorage.removeItem("password"),window.localStorage.removeItem("username"),window.location.assign("/signin")}},{key:"render",value:function(){return r.a.createElement(p.a,{to:"/signin"})}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(y.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),g()({method:"post",url:"https://rest-api-project-9.herokuapp.com/api/courses",auth:{username:window.localStorage.getItem("EmailAddress"),password:window.localStorage.getItem("Password")},data:{title:a.state.title,description:a.state.description,estimatedTime:a.state.estimatedTime,materialsNeeded:a.state.materialsNeeded}}).then(function(){a.props.history.push("/")}).catch(function(e){500===e.response.status?(console.error("Error fetching and parsing data",e),a.props.history.push("/error")):a.setState({validationErrors:e.response.data.message})})},a.state={title:"",description:"",estimatedTime:"",materialsNeeded:"",validationErrors:""},a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.validationErrors;return r.a.createElement("div",{className:"bounds course--detail"},r.a.createElement("h1",null,"Create Course"),r.a.createElement("div",null,r.a.createElement("div",null,t?r.a.createElement("div",null,r.a.createElement("h2",{className:"validation--errors--labels"},"Validation errors"),r.a.createElement("div",{className:"validation-errors"},r.a.createElement("ul",null,r.a.createElement("li",null,t)))):""),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"grid-66"},r.a.createElement("div",{className:"course--header"},r.a.createElement("h4",{className:"course--label"},"Course"),r.a.createElement("div",null,r.a.createElement("input",{id:"title",name:"title",type:"text",className:"input-title course--title--input",placeholder:"Course title...",onChange:function(t){return e.handleChange(t)}})),r.a.createElement("p",null,"By ",localStorage.FirstName," ",localStorage.LastName)),r.a.createElement("div",{className:"course--description"},r.a.createElement("div",null,r.a.createElement("textarea",{id:"description",name:"description",className:"",placeholder:"Course description...",onChange:function(t){return e.handleChange(t)}})))),r.a.createElement("div",{className:"grid-25 grid-right"},r.a.createElement("div",{className:"course--stats"},r.a.createElement("ul",{className:"course--stats--list"},r.a.createElement("li",{className:"course--stats--list--item"},r.a.createElement("h4",null,"Estimated Time"),r.a.createElement("div",null,r.a.createElement("input",{id:"estimatedTime",name:"estimatedTime",type:"text",className:"course--time--input",placeholder:"Hours",onChange:function(t){return e.handleChange(t)}}))),r.a.createElement("li",{className:"course--stats--list--item"},r.a.createElement("h4",null,"Materials Needed"),r.a.createElement("div",null,r.a.createElement("textarea",{id:"materialsNeeded",name:"materialsNeeded",className:"",placeholder:"List materials...",onChange:function(t){return e.handleChange(t)}})))))),r.a.createElement("div",{className:"grid-100 pad-bottom"},r.a.createElement("button",{className:"button",type:"submit"},"Create Course"),r.a.createElement(h.b,{className:"button button-secondary",to:"/"},"Cancel")))))}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e){var t=a.props.match.params.id;e.preventDefault(),g()({method:"put",url:"https://rest-api-project-9.herokuapp.com/api/courses/".concat(t),auth:{username:window.localStorage.getItem("EmailAddress"),password:window.localStorage.getItem("Password")},data:{id:t,title:a.state.title,description:a.state.description,estimatedTime:a.state.estimatedTime,materialsNeeded:a.state.materialsNeeded}}).then(function(){a.props.history.push("/courses/".concat(t))}).catch(function(e){500===e.response.status?(console.error("Error fetching and parsing data",e),a.props.history.push("/error")):a.setState({validationErrors:e.response.data.message})})},a.handleChange=function(e){a.setState(Object(y.a)({},e.target.name,e.target.value))},a.state={course:[],user:[],title:"",description:"",estimatedTime:"",materialsNeeded:"",validationErrors:""},a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;g.a.get("https://rest-api-project-9.herokuapp.com/api/courses/".concat(t)).then(function(t){var a=t.data;a.userId===JSON.parse(localStorage.getItem("UserId"))?e.setState({user:a.User,title:a.title,description:a.description,estimatedTime:a.estimatedTime,materialsNeeded:a.materialsNeeded}):e.props.history.push("/forbidden")}).catch(function(t){500===t.response.status?(console.error("Error fetching and parsing data",t),e.props.history.push("/error")):e.props.history.push("/notfound")})}},{key:"render",value:function(){var e=this,t=this.state,a=t.title,n=t.description,s=t.estimatedTime,l=t.materialsNeeded,o=t.user,i=t.validationErrors;return r.a.createElement("div",{className:"bounds course--detail"},r.a.createElement("h1",null,"Update Course"),r.a.createElement("div",null,i?r.a.createElement("div",null,r.a.createElement("h2",{className:"validation--errors--labels"},"Validation errors"),r.a.createElement("div",{className:"validation-errors"},r.a.createElement("ul",null,r.a.createElement("li",null,i)))):"",r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"grid-66"},r.a.createElement("div",{className:"course--header"},r.a.createElement("h4",{className:"course--label"},"Course"),r.a.createElement("div",null,r.a.createElement("input",{id:"title",name:"title",type:"text",className:"input-title course--title--input",placeholder:"Course title...",value:a,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("p",null,"By ",o.firstName," ",o.lastName)),r.a.createElement("div",{className:"course--description"},r.a.createElement("div",null,r.a.createElement("textarea",{id:"description",name:"description",className:"",placeholder:"Course description...",value:n,onChange:function(t){return e.handleChange(t)}})))),r.a.createElement("div",{className:"grid-25 grid-right"},r.a.createElement("div",{className:"course--stats"},r.a.createElement("ul",{className:"course--stats--list"},r.a.createElement("li",{className:"course--stats--list--item"},r.a.createElement("h4",null,"Estimated Time"),r.a.createElement("div",null,r.a.createElement("input",{id:"estimatedTime",name:"estimatedTime",type:"text",className:"course--time--input",placeholder:"Hours",value:s,onChange:function(t){return e.handleChange(t)}}))),r.a.createElement("li",{className:"course--stats--list--item"},r.a.createElement("h4",null,"Materials Needed"),r.a.createElement("div",null,r.a.createElement("textarea",{id:"materialsNeeded",name:"materialsNeeded",className:"",placeholder:"List materials...",value:l,onChange:function(t){return e.handleChange(t)}})))))),r.a.createElement("div",{className:"grid-100 pad-bottom"},r.a.createElement("button",{className:"button",type:"submit"},"Update Course"),r.a.createElement(h.b,{className:"button button-secondary",to:"/courses/"+this.props.match.params.id},"Cancel")))))}}]),t}(n.Component),x=function(){return r.a.createElement("div",{className:"bounds"},r.a.createElement("h1",null,"Not Found"),r.a.createElement("p",null,"Sorry! We couldn't find the page you're looking for."),r.a.createElement(h.b,{className:"button button-secondary",to:"/"},"Back Home"))},A=function(){return r.a.createElement("div",{className:"bounds"},r.a.createElement("h1",null,"Error"),r.a.createElement("p",null,"Sorry! We just encountered an unexpected error."),r.a.createElement(h.b,{className:"button button-secondary",to:"/"},"Back Home"))},T=function(){return r.a.createElement("div",{className:"bounds"},r.a.createElement("h1",null,"Forbidden"),r.a.createElement("p",null,"Sorry, you don't have user access to this page"),r.a.createElement(h.b,{className:"button button-secondary",to:"/"},"Back Home"))},U=a(56);function P(e){var t=e.component,a=Object(U.a)(e,["component"]);return r.a.createElement(p.b,Object.assign({},a,{render:function(e){return localStorage.getItem("IsLoggedIn")?r.a.createElement(t,e):r.a.createElement(p.a,{to:"/signin"})}}))}var L=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={validationError:""},e.handleSignIn=e.handleSignIn.bind(Object(d.a)(e)),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleSignIn",value:function(e,t,a){var n=this;g.a.get("https://rest-api-project-9.herokuapp.com/api/users",{auth:{username:e,password:t}}).then(function(a){window.localStorage.setItem("FirstName",a.data.firstName),window.localStorage.setItem("LastName",a.data.lastName),window.localStorage.setItem("EmailAddress",e),window.localStorage.setItem("Password",t),window.localStorage.setItem("UserId",JSON.stringify(a.data.id)),window.localStorage.setItem("IsLoggedIn",JSON.stringify(!0)),n.setState({validationError:""})}).catch(function(e){401===e.response.status?n.setState({validationError:e.response.data.message}):(console.error("Error fetching and parsing data",e),n.props.history.push("/error"))})}},{key:"render",value:function(){var e=this;return r.a.createElement(h.a,null,r.a.createElement("div",{className:"root"},r.a.createElement(v,null),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",component:b}),r.a.createElement(P,{path:"/courses/create",component:j}),r.a.createElement(P,{path:"/courses/:id/update",component:k}),r.a.createElement(p.b,{exact:!0,path:"/courses/:id",component:S}),r.a.createElement(p.b,{exact:!0,path:"/signin",component:function(t){return r.a.createElement(C,Object.assign({handleSignIn:e.handleSignIn,validationError:e.state.validationError},t))}}),r.a.createElement(p.b,{exact:!0,path:"/signup",component:function(t){return r.a.createElement(I,Object.assign({handleSignIn:e.handleSignIn},t))}}),r.a.createElement(p.b,{exact:!0,path:"/signout",component:O}),r.a.createElement(p.b,{exact:!0,path:"/forbidden",component:T}),r.a.createElement(p.b,{exact:!0,path:"/notfound",component:x}),r.a.createElement(p.b,{exact:!0,path:"/error",component:A}),r.a.createElement(p.b,{component:x}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},57:function(e,t,a){e.exports=a(174)},62:function(e,t,a){}},[[57,1,2]]]);
//# sourceMappingURL=main.519d9b78.chunk.js.map