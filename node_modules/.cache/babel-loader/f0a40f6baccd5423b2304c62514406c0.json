{"ast":null,"code":"var _jsxFileName = \"/Users/danielgibson/Desktop/GitHub/techdegree-project-10/client/src/App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport UserContext from './components/UserContext';\nimport Header from './components/Header';\nimport Courses from './components/Courses';\nimport CourseDetail from './components/CourseDetail';\nimport UserSignIn from './components/UserSignIn';\nimport UserSignUp from './components/UserSignUp';\nimport UserSignOut from './components/UserSignOut';\nimport CreateCourse from './components/CreateCourse';\nimport UpdateCourse from './components/UpdateCourse';\nimport NotFound from './components/NotFound';\nimport unhandledError from './components/unhandledError';\nimport Forbidden from './components/Fobidden';\nimport PrivateRoute from './components/PrivateRoute';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {};\n    this.signIn = this.signIn.bind(this);\n  }\n\n  signIn(userInfo) {\n    axios.get(\"http://localhost:5000/api/users\", {\n      auth: {\n        username: userInfo.emailAddress,\n        password: userInfo.password\n      }\n    }).then(results => {\n      console.log(results.data);\n      window.localStorage.setItem('FirstName', results.data.firstName);\n      window.localStorage.setItem('LastName', results.data.lastName);\n      window.localStorage.setItem('Email', userInfo.emailAddress);\n      window.localStorage.setItem('Password', userInfo.password);\n      window.localStorage.setItem('UserId', JSON.stringify(results.data._id));\n      window.localStorage.setItem('IsLoggedIn', JSON.stringify(true));\n      window.location.assign('/');\n    });\n  } // state = {\n  //   authUser: {},\n  //   validationErrors: ''\n  // }\n  // handleSignIn(e, emailAddress, password, props) {\n  //   if(e) {\n  //     e.preventDefault();\n  //   }\n  //   axios.get('http://localhost:5000/api/users',\n  //   {\n  //     auth: {\n  //       username: emailAddress,\n  //       password: password\n  //     }\n  //   })\n  //   .then(res => {\n  //     const user = res.data;\n  //     const fullName = user.firstName + ' ' + user.lastName;\n  //     localStorage.setItem('id', user.id);\n  //     localStorage.setItem('username', emailAddress);\n  //     localStorage.setItem('password', password);\n  //     localStorage.setItem('name', fullName);\n  //     this.setState({\n  //       validationErrors: ''\n  //     });\n  //     const { history, location } = props;\n  //     const path = location.state ? location.state.prevLocation : '/';\n  //     history.push(path);\n  //   })\n  //   .catch(err => {\n  //     if(err.response.status === 400) {\n  //       const error = err.response.data.message;\n  //       this.setState({\n  //         validationErrors: error\n  //       });\n  //     } else if (err.response.status === 500) {\n  //       this.props.history.push('/error');\n  //     }\n  //   })\n  // }\n  // handleSignOut() {\n  //   localStorage.clear();\n  //   this.setState({\n  //     validationErrors: \"\"\n  //   });\n  //   this.props.history.push(\"/\");\n  // }\n\n\n  render() {\n    return React.createElement(BrowserRouter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"root\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      component: Courses,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/courses/:id\",\n      component: CourseDetail,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/signin\",\n      component: () => React.createElement(UserSignIn, {\n        signIn: this.signIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/signup\",\n      component: UserSignUp,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/signout\",\n      component: UserSignOut,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), React.createElement(PrivateRoute, {\n      exact: true,\n      path: \"/courses/create\",\n      component: CreateCourse,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), React.createElement(PrivateRoute, {\n      exact: true,\n      path: \"/courses/:id/update\",\n      component: UpdateCourse,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/danielgibson/Desktop/GitHub/techdegree-project-10/client/src/App.js"],"names":["React","Component","BrowserRouter","Route","Switch","Redirect","axios","UserContext","Header","Courses","CourseDetail","UserSignIn","UserSignUp","UserSignOut","CreateCourse","UpdateCourse","NotFound","unhandledError","Forbidden","PrivateRoute","App","constructor","state","signIn","bind","userInfo","get","auth","username","emailAddress","password","then","results","console","log","data","window","localStorage","setItem","firstName","lastName","JSON","stringify","_id","location","assign","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport axios from 'axios';\n\nimport UserContext from './components/UserContext';\n\nimport Header from './components/Header';\nimport Courses from './components/Courses';\nimport CourseDetail from './components/CourseDetail';\nimport UserSignIn from './components/UserSignIn';\nimport UserSignUp from './components/UserSignUp';\nimport UserSignOut from './components/UserSignOut';\nimport CreateCourse from './components/CreateCourse';\nimport UpdateCourse from './components/UpdateCourse';\nimport NotFound from './components/NotFound';\nimport unhandledError from './components/unhandledError';\nimport Forbidden from './components/Fobidden';\nimport PrivateRoute from './components/PrivateRoute';\n\nclass App extends Component {\n\n  constructor() {\n    super();\n    this.state = {};\n    this.signIn = this.signIn.bind(this);\n  }\n\n  signIn(userInfo) {\n    axios.get(\"http://localhost:5000/api/users\", {\n      auth: {\n        username: userInfo.emailAddress,\n        password: userInfo.password\n      }\n    }).then(results => { console.log(results.data)\n      window.localStorage.setItem('FirstName',results.data.firstName)\n      window.localStorage.setItem('LastName', results.data.lastName)\n      window.localStorage.setItem('Email',userInfo.emailAddress)\n      window.localStorage.setItem('Password',userInfo.password)\n      window.localStorage.setItem('UserId', JSON.stringify(results.data._id))\n      window.localStorage.setItem('IsLoggedIn', JSON.stringify(true))\n      window.location.assign('/')\n    })\n  }\n\n  // state = {\n  //   authUser: {},\n  //   validationErrors: ''\n  // }\n\n  // handleSignIn(e, emailAddress, password, props) {\n  //   if(e) {\n  //     e.preventDefault();\n  //   }\n\n  //   axios.get('http://localhost:5000/api/users',\n  //   {\n  //     auth: {\n  //       username: emailAddress,\n  //       password: password\n  //     }\n  //   })\n  //   .then(res => {\n  //     const user = res.data;\n  //     const fullName = user.firstName + ' ' + user.lastName;\n\n  //     localStorage.setItem('id', user.id);\n  //     localStorage.setItem('username', emailAddress);\n  //     localStorage.setItem('password', password);\n  //     localStorage.setItem('name', fullName);\n\n  //     this.setState({\n  //       validationErrors: ''\n  //     });\n\n  //     const { history, location } = props;\n  //     const path = location.state ? location.state.prevLocation : '/';\n  //     history.push(path);\n  //   })\n  //   .catch(err => {\n  //     if(err.response.status === 400) {\n  //       const error = err.response.data.message;\n\n  //       this.setState({\n  //         validationErrors: error\n  //       });\n\n  //     } else if (err.response.status === 500) {\n  //       this.props.history.push('/error');\n  //     }\n  //   })\n  // }\n\n  // handleSignOut() {\n  //   localStorage.clear();\n  //   this.setState({\n  //     validationErrors: \"\"\n  //   });\n  //   this.props.history.push(\"/\");\n  // }\n\n\n  render() {\n    return (\n      <BrowserRouter>\n        <div className=\"root\">\n          <Header />\n          <Switch>\n            <Route exact path=\"/\" component={Courses} />\n            <Route exact path=\"/courses/:id\" component={CourseDetail} />\n\n            <Route exact path=\"/signin\" component={() => <UserSignIn signIn={this.signIn} /> } />\n            <Route exact path=\"/signup\" component={UserSignUp} />\n            <Route exact path=\"/signout\" component={UserSignOut} />\n\n            <PrivateRoute exact path=\"/courses/create\" component={CreateCourse} />\n            <PrivateRoute exact path=\"/courses/:id/update\" component={UpdateCourse} />\n\n            {/* <Route exact path=\"/fobidden\" component={Forbidden} />\n            <Route exact path=\"/notfound\" component={NotFound} />\n            <Route exact path=\"/error\" component={unhandledError} />\n            <Redirect to =\"/notfound\" /> */}\n            {/* <Route component={NotFound} /> */}\n          </Switch>\n        </div>\n      </BrowserRouter>    \n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}