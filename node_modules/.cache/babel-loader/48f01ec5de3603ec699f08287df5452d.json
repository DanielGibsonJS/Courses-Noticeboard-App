{"ast":null,"code":"var _jsxFileName = \"/Users/danielgibson/Desktop/GitHub/techdegree-project-10/client/src/components/UpdateCourse.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport ReactMarkdown from 'react-markdown';\n\nclass UpdateCourse extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = e => {\n      const params = this.props.match.params;\n      e.preventDefault();\n      axios({\n        method: 'put',\n        url: \"http://localhost:5000/api/courses/\".concat(params.id),\n        auth: {\n          username: window.localStorage.getItem('Email'),\n          password: window.localStorage.getItem('Password')\n        },\n        data: {\n          id: params.id,\n          title: this.state.title,\n          description: this.state.description,\n          estimatedTime: this.state.estimatedTime,\n          materialsNeeded: this.state.materialsNeeded\n        }\n      }).then(res => {\n        this.props.history.push(\"/courses/\".concat(params.id));\n      }).catch(err => {\n        console.log(err.response.data.message);\n        this.setState({\n          validationErrors: err.response.data.message\n        });\n      });\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleCancel = e => {\n      let history = this.props.history;\n      let course = this.state.course;\n      e.preventDefault();\n      history.push(\"/courses/\".concat(course.id));\n    };\n\n    this.state = {\n      course: [],\n      user: [],\n      title: '',\n      description: '',\n      estimatedTime: '',\n      materialsNeeded: '',\n      validationErrors: ''\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n  }\n\n  componentDidMount() {\n    const params = this.props.match.params;\n    axios.get(\"http://localhost:5000/api/courses/\".concat(params.id)).then(res => {\n      if (res.data.userId === JSON.parse(localStorage.getItem('UserId'))) {\n        this.setState({\n          user: res.data.User,\n          title: res.data.title,\n          description: res.data.description,\n          estimatedTime: res.data.estimatedTime,\n          materialsNeeded: res.data.materialsNeeded\n        });\n      } else {\n        this.props.history.push('/forbidden');\n      }\n    }).catch(err => {\n      this.props.history.push('/error');\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          title = _this$state.title,\n          description = _this$state.description,\n          estimatedTime = _this$state.estimatedTime,\n          materialsNeeded = _this$state.materialsNeeded,\n          user = _this$state.user,\n          validationErrors = _this$state.validationErrors;\n    return React.createElement(\"div\", {\n      className: \"bounds course--detail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Update Course\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, validationErrors ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"validation--errors--labels\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Validation errors\"), React.createElement(\"div\", {\n      className: \"validation-errors\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, validationErrors)))) : '', React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"grid-66\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"course--header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"course--label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Course\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"title\",\n      name: \"title\",\n      type: \"text\",\n      className: \"input-title course--title--input\",\n      placeholder: \"Course title...\",\n      value: title,\n      onChange: e => this.handleChange(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"By \", user.firstName, \" \", user.lastName)), React.createElement(\"div\", {\n      className: \"course--description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      id: \"description\",\n      name: \"description\",\n      className: \"\",\n      placeholder: \"Course description...\",\n      value: description,\n      onChange: e => this.handleChange(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"grid-25 grid-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"course--stats\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"course--stats--list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"course--stats--list--item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"Estimated Time\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"estimatedTime\",\n      name: \"estimatedTime\",\n      type: \"text\",\n      className: \"course--time--input\",\n      placeholder: \"Hours\",\n      value: estimatedTime,\n      onChange: e => this.handleChange(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }))), React.createElement(\"li\", {\n      className: \"course--stats--list--item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"Materials Needed\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      id: \"materialsNeeded\",\n      name: \"materialsNeeded\",\n      className: \"\",\n      placeholder: \"List materials...\",\n      value: materialsNeeded,\n      onChange: e => this.handleChange(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    })))))), React.createElement(\"div\", {\n      className: \"grid-100 pad-bottom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"button\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \"Update Course\"), React.createElement(Link, {\n      className: \"button button-secondary\",\n      to: \"/courses/\" + this.props.match.params.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"Cancel\")))));\n  }\n\n}\n\nexport default UpdateCourse;","map":{"version":3,"sources":["/Users/danielgibson/Desktop/GitHub/techdegree-project-10/client/src/components/UpdateCourse.js"],"names":["React","Component","Link","axios","ReactMarkdown","UpdateCourse","constructor","props","handleSubmit","e","params","match","preventDefault","method","url","id","auth","username","window","localStorage","getItem","password","data","title","state","description","estimatedTime","materialsNeeded","then","res","history","push","catch","err","console","log","response","message","setState","validationErrors","handleChange","target","name","value","handleCancel","course","user","bind","componentDidMount","get","userId","JSON","parse","User","render","firstName","lastName"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,gBAA1B;;AAGA,MAAMC,YAAN,SAA2BJ,SAA3B,CAAqC;AAEnCK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAenBC,YAfmB,GAeHC,CAAD,IAAO;AAAA,YACJC,MADI,GACQ,KAAKH,KADb,CACbI,KADa,CACJD,MADI;AAEpBD,MAAAA,CAAC,CAACG,cAAF;AACAT,MAAAA,KAAK,CAAE;AACLU,QAAAA,MAAM,EAAE,KADH;AAELC,QAAAA,GAAG,8CAAuCJ,MAAM,CAACK,EAA9C,CAFE;AAGLC,QAAAA,IAAI,EAAE;AACJC,UAAAA,QAAQ,EAAEC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CADN;AAEJC,UAAAA,QAAQ,EAAEH,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,UAA5B;AAFN,SAHD;AAOLE,QAAAA,IAAI,EAAE;AACJP,UAAAA,EAAE,EAAEL,MAAM,CAACK,EADP;AAEJQ,UAAAA,KAAK,EAAE,KAAKC,KAAL,CAAWD,KAFd;AAGJE,UAAAA,WAAW,EAAE,KAAKD,KAAL,CAAWC,WAHpB;AAIJC,UAAAA,aAAa,EAAE,KAAKF,KAAL,CAAWE,aAJtB;AAKJC,UAAAA,eAAe,EAAE,KAAKH,KAAL,CAAWG;AALxB;AAPD,OAAF,CAAL,CAeCC,IAfD,CAeMC,GAAG,IAAI;AACX,aAAKtB,KAAL,CAAWuB,OAAX,CAAmBC,IAAnB,oBAAoCrB,MAAM,CAACK,EAA3C;AACD,OAjBD,EAkBCiB,KAlBD,CAkBOC,GAAG,IAAI;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,QAAJ,CAAad,IAAb,CAAkBe,OAA9B;AACA,aAAKC,QAAL,CAAc;AAAEC,UAAAA,gBAAgB,EAAEN,GAAG,CAACG,QAAJ,CAAad,IAAb,CAAkBe;AAAtC,SAAd;AACD,OArBD;AAsBD,KAxCkB;;AAAA,SA2CnBG,YA3CmB,GA2CJ/B,CAAC,IAAI;AAClB,WAAK6B,QAAL,CAAc;AACZ,SAAE7B,CAAC,CAACgC,MAAF,CAASC,IAAX,GAAoBjC,CAAC,CAACgC,MAAF,CAASE;AADjB,OAAd;AAGD,KA/CkB;;AAAA,SAiDnBC,YAjDmB,GAiDHnC,CAAD,IAAO;AAAA,UACdqB,OADc,GACF,KAAKvB,KADH,CACduB,OADc;AAAA,UAEde,MAFc,GAEH,KAAKrB,KAFF,CAEdqB,MAFc;AAGpBpC,MAAAA,CAAC,CAACG,cAAF;AACAkB,MAAAA,OAAO,CAACC,IAAR,oBAAyBc,MAAM,CAAC9B,EAAhC;AACD,KAtDkB;;AAEjB,SAAKS,KAAL,GAAa;AACXqB,MAAAA,MAAM,EAAE,EADG;AAEXC,MAAAA,IAAI,EAAE,EAFK;AAGXvB,MAAAA,KAAK,EAAE,EAHI;AAIXE,MAAAA,WAAW,EAAE,EAJF;AAKXC,MAAAA,aAAa,EAAE,EALJ;AAMXC,MAAAA,eAAe,EAAE,EANN;AAOXY,MAAAA,gBAAgB,EAAE;AAPP,KAAb;AASA,SAAK/B,YAAL,GAAoB,KAAKA,YAAL,CAAkBuC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKH,YAAL,GAAoB,KAAKA,YAAL,CAAkBG,IAAlB,CAAuB,IAAvB,CAApB;AACD;;AA2CDC,EAAAA,iBAAiB,GAAG;AAAA,UACDtC,MADC,GACW,KAAKH,KADhB,CACVI,KADU,CACDD,MADC;AAElBP,IAAAA,KAAK,CAAC8C,GAAN,6CAA+CvC,MAAM,CAACK,EAAtD,GACGa,IADH,CACQC,GAAG,IAAI;AACX,UAAGA,GAAG,CAACP,IAAJ,CAAS4B,MAAT,KAAoBC,IAAI,CAACC,KAAL,CAAWjC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAX,CAAvB,EAAmE;AACjE,aAAKkB,QAAL,CAAc;AACZQ,UAAAA,IAAI,EAAEjB,GAAG,CAACP,IAAJ,CAAS+B,IADH;AAEZ9B,UAAAA,KAAK,EAAEM,GAAG,CAACP,IAAJ,CAASC,KAFJ;AAGZE,UAAAA,WAAW,EAAEI,GAAG,CAACP,IAAJ,CAASG,WAHV;AAIZC,UAAAA,aAAa,EAAEG,GAAG,CAACP,IAAJ,CAASI,aAJZ;AAKZC,UAAAA,eAAe,EAAEE,GAAG,CAACP,IAAJ,CAASK;AALd,SAAd;AAOD,OARD,MASK;AACH,aAAKpB,KAAL,CAAWuB,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB;AACD;AACF,KAdH,EAeGC,KAfH,CAeSC,GAAG,IAAI;AACZ,WAAK1B,KAAL,CAAWuB,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AACD,KAjBH;AAkBD;;AAEDuB,EAAAA,MAAM,GAAG;AAAA,wBAEgF,KAAK9B,KAFrF;AAAA,UAECD,KAFD,eAECA,KAFD;AAAA,UAEQE,WAFR,eAEQA,WAFR;AAAA,UAEqBC,aAFrB,eAEqBA,aAFrB;AAAA,UAEoCC,eAFpC,eAEoCA,eAFpC;AAAA,UAEqDmB,IAFrD,eAEqDA,IAFrD;AAAA,UAE2DP,gBAF3D,eAE2DA,gBAF3D;AAIP,WACE;AAAK,MAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGA,gBAAgB,GACf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,EAAC,4BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,EAEE;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKA,gBAAL,CADF,CADF,CAFF,CADe,GASf,EAVJ,EAWE;AAAM,MAAA,QAAQ,EAAE,KAAK/B,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,EAAE,EAAC,OADL;AAEE,MAAA,IAAI,EAAC,OAFP;AAGE,MAAA,IAAI,EAAC,MAHP;AAIE,MAAA,SAAS,EAAC,kCAJZ;AAKE,MAAA,WAAW,EAAC,iBALd;AAME,MAAA,KAAK,EAAEe,KANT;AAOE,MAAA,QAAQ,EAAEd,CAAC,IAAI,KAAK+B,YAAL,CAAkB/B,CAAlB,CAPjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFF,EAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAOqC,IAAI,CAACS,SAAZ,OAAwBT,IAAI,CAACU,QAA7B,CAbF,CADF,EAgBE;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,EAAE,EAAC,aADL;AAEE,MAAA,IAAI,EAAC,aAFP;AAGE,MAAA,SAAS,EAAC,EAHZ;AAIE,MAAA,WAAW,EAAC,uBAJd;AAKE,MAAA,KAAK,EAAE/B,WALT;AAME,MAAA,QAAQ,EAAEhB,CAAC,IAAI,KAAK+B,YAAL,CAAkB/B,CAAlB,CANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,CAhBF,CADF,EA8BE;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,EAAC,qBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,EAAC,2BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,EAAE,EAAC,eADL;AAEE,MAAA,IAAI,EAAC,eAFP;AAGE,MAAA,IAAI,EAAC,MAHP;AAIE,MAAA,SAAS,EAAC,qBAJZ;AAKE,MAAA,WAAW,EAAC,OALd;AAME,MAAA,KAAK,EAAEiB,aANT;AAOE,MAAA,QAAQ,EAAEjB,CAAC,IAAI,KAAK+B,YAAL,CAAkB/B,CAAlB,CAPjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFF,CADF,EAeE;AAAI,MAAA,SAAS,EAAC,2BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,EAAE,EAAC,iBADL;AAEE,MAAA,IAAI,EAAC,iBAFP;AAGE,MAAA,SAAS,EAAC,EAHZ;AAIE,MAAA,WAAW,EAAC,mBAJd;AAKE,MAAA,KAAK,EAAEkB,eALT;AAME,MAAA,QAAQ,EAAElB,CAAC,IAAI,KAAK+B,YAAL,CAAkB/B,CAAlB,CANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFF,CAfF,CADF,CADF,CA9BF,EA+DE;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAQ,MAAA,SAAS,EAAC,QAAlB;AAA2B,MAAA,IAAI,EAAC,QAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,EAIE,oBAAC,IAAD;AACE,MAAA,SAAS,EAAC,yBADZ;AAEE,MAAA,EAAE,EAAE,cAAc,KAAKF,KAAL,CAAWI,KAAX,CAAiBD,MAAjB,CAAwBK,EAF5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF,CA/DF,CAXF,CAFF,CADF;AA2FD;;AA/KkC;;AAkLrC,eAAeV,YAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport ReactMarkdown from 'react-markdown';\n\n\nclass UpdateCourse extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      course: [],\n      user: [],\n      title: '',\n      description: '',\n      estimatedTime: '',\n      materialsNeeded: '',\n      validationErrors: '',\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n  }\n  \n  handleSubmit = (e) => {\n    const {match: { params }} = this.props;\n    e.preventDefault();\n    axios ({\n      method: 'put',\n      url: `http://localhost:5000/api/courses/${params.id}`,\n      auth: {\n        username: window.localStorage.getItem('Email'),\n        password: window.localStorage.getItem('Password')\n      },\n      data: {\n        id: params.id,\n        title: this.state.title,\n        description: this.state.description,\n        estimatedTime: this.state.estimatedTime,\n        materialsNeeded: this.state.materialsNeeded,\n      }\n    })\n    .then(res => {\n      this.props.history.push(`/courses/${params.id}`);\n    })\n    .catch(err => {\n      console.log(err.response.data.message)\n      this.setState({ validationErrors: err.response.data.message })\n    });\n  }\n\n  // Handle changes to the form inputs\n  handleChange = e => {\n    this.setState({\n      [ e.target.name ] : e.target.value \n    });\n  }\n\n  handleCancel = (e) => {\n    let { history } = this.props;\n    let { course } = this.state;\n    e.preventDefault();\n    history.push(`/courses/${course.id}`);\n  }\n\n  componentDidMount() {\n    const { match: { params }} = this.props;\n    axios.get(`http://localhost:5000/api/courses/${params.id}`)\n      .then(res => {\n        if(res.data.userId === JSON.parse(localStorage.getItem('UserId'))) {\n          this.setState({\n            user: res.data.User,\n            title: res.data.title,\n            description: res.data.description,\n            estimatedTime: res.data.estimatedTime,\n            materialsNeeded: res.data.materialsNeeded,\n          });\n        } \n        else {\n          this.props.history.push('/forbidden');\n        }\n      })\n      .catch(err => {\n        this.props.history.push('/error');\n      })\n  }\n\n  render() {\n\n    const { title, description, estimatedTime, materialsNeeded, user, validationErrors } = this.state;\n    \n    return (\n      <div className=\"bounds course--detail\">\n        <h1>Update Course</h1>\n        <div>\n          {validationErrors ? (\n            <div>\n              <h2 className=\"validation--errors--labels\">Validation errors</h2>\n              <div className=\"validation-errors\">\n                <ul>\n                  <li>{validationErrors}</li>\n                </ul>\n              </div>\n            </div>\n          ):''}\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"grid-66\">\n              <div className=\"course--header\">\n                <h4 className=\"course--label\">Course</h4>\n                <div>\n                  <input \n                    id=\"title\"\n                    name=\"title\"\n                    type=\"text\"\n                    className=\"input-title course--title--input\"\n                    placeholder=\"Course title...\"\n                    value={title}\n                    onChange={e => this.handleChange(e)}\n                  />\n                </div>\n                <p>By {user.firstName} {user.lastName}</p>\n              </div>\n              <div className=\"course--description\">\n                <div>\n                  <textarea\n                    id=\"description\"\n                    name=\"description\"\n                    className=\"\"\n                    placeholder=\"Course description...\"\n                    value={description}\n                    onChange={e => this.handleChange(e)}\n                  />\n                </div>\n              </div>\n            </div>\n            <div className=\"grid-25 grid-right\">\n              <div className=\"course--stats\">\n                <ul className=\"course--stats--list\">\n                  <li className=\"course--stats--list--item\">\n                    <h4>Estimated Time</h4>\n                    <div>\n                      <input\n                        id=\"estimatedTime\"\n                        name=\"estimatedTime\"\n                        type=\"text\"\n                        className=\"course--time--input\"\n                        placeholder=\"Hours\"\n                        value={estimatedTime}\n                        onChange={e => this.handleChange(e)}\n                      />\n                    </div>\n                  </li>\n                  <li className=\"course--stats--list--item\">\n                    <h4>Materials Needed</h4>\n                    <div>\n                      <textarea\n                        id=\"materialsNeeded\"\n                        name=\"materialsNeeded\"\n                        className=\"\"\n                        placeholder=\"List materials...\"\n                        value={materialsNeeded}\n                        onChange={e => this.handleChange(e)}\n                      />\n                    </div>\n                  </li>\n                </ul>\n              </div>\n            </div>\n            <div className=\"grid-100 pad-bottom\">\n              <button className=\"button\" type=\"submit\">\n                Update Course\n              </button>\n              <Link \n                className=\"button button-secondary\" \n                to={\"/courses/\" + this.props.match.params.id}\n                >Cancel\n              </Link>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default UpdateCourse;"]},"metadata":{},"sourceType":"module"}