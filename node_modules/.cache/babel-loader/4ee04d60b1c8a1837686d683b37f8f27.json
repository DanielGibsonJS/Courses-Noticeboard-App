{"ast":null,"code":"var _jsxFileName = \"/Users/danielgibson/Desktop/GitHub/techdegree-project-10/client/src/components/CourseDetail.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport ReactMarkdown from 'react-markdown';\nimport { Spring } from 'react-spring/renderprops';\n\nclass CourseDetail extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      course: [],\n      user: []\n    };\n    this.handleDelete = this.handleDelete.bind(this);\n  } // state = {\n  //   course: {},\n  //   id: this.props.match.params.id,\n  //   fullName: '',\n  // };\n\n\n  componentDidMount() {\n    const params = this.props.match.params;\n    /***\n    * Fetch the list of courses from the API using axios\n    ***/\n\n    axios.get(\"http://localhost:5000/api/courses/\".concat(params.id)).then(res => {\n      this.setState({\n        course: res.data,\n        user: res.data.User\n      });\n    }) //Catch and handle errors\n    .catch(err => {\n      if (err.response.status === 400) {\n        this.props.history.push('/notfound');\n      } else {\n        console.error('Error fetching and parsing data', err);\n        this.props.history.push('/error');\n      }\n    });\n  }\n\n  handleDelete() {\n    const _this$props = this.props,\n          params = _this$props.match.params,\n          history = _this$props.history;\n    axios.delete(\"http://localhost:5000/api/courses/\".concat(params.id), {\n      auth: {\n        username: window.localStorage.getItem(\"Email\"),\n        password: window.localStorage.getItem(\"Password\")\n      }\n    }).then(() => {\n      history.push('/');\n    }).catch(err => {\n      history.push('/error');\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          course = _this$state.course,\n          user = _this$state.user;\n    const isLoggedIn = localStorage.getItem(\"IsLoggedIn\");\n    const UserId = JSON.parse(localStorage.getItem(\"UserId\")); // const { id, course, fullName } = this.state;\n    // const props = useSpring({opacity: 1, from: {opacity: 0}})\n\n    return (// <animated.dv style={props}>\n      React.createElement(Spring, {\n        from: {\n          opacity: 0\n        },\n        to: {\n          opacity: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, props => React.createElement(\"div\", {\n        style: props,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"actions--bar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"bounds\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"grid-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, isLoggedIn && user.id === UserId ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(Link, {\n        className: \"button\",\n        to: \"/courses/\".concat(id, \"/update\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"Update Course\"), React.createElement(\"button\", {\n        className: \"button\",\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"Delete Course\")), React.createElement(Link, {\n        className: \"button button-secondary\",\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Return to List\")) : ''))), React.createElement(\"div\", {\n        className: \"bounds course--detail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"grid-66\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"course--header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"course--label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"Course\"), React.createElement(\"h3\", {\n        className: \"course--title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, course.title), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"By \", user.firstName, \" \", user.lastName)), React.createElement(\"div\", {\n        className: \"course-description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(ReactMarkdown, {\n        source: course.description,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"grid-25 grid-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"course--stats\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"course--stats--list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"course--stats--list--item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Estimated Time\"), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, course.estimatedTime)), React.createElement(\"li\", {\n        className: \"course--stats--list--item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"Materials Needed\"), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(ReactMarkdown, {\n        source: course.materialsNeeded,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }))))))))) // </animated.dv>\n\n    );\n  }\n\n}\n\nexport default CourseDetail;","map":{"version":3,"sources":["/Users/danielgibson/Desktop/GitHub/techdegree-project-10/client/src/components/CourseDetail.js"],"names":["React","Component","Link","axios","ReactMarkdown","Spring","CourseDetail","constructor","props","state","course","user","handleDelete","bind","componentDidMount","params","match","get","id","then","res","setState","data","User","catch","err","response","status","history","push","console","error","delete","auth","username","window","localStorage","getItem","password","render","isLoggedIn","UserId","JSON","parse","opacity","title","firstName","lastName","description","estimatedTime","materialsNeeded"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport ReactMarkdown from 'react-markdown';\nimport { Spring } from 'react-spring/renderprops';\n\nclass CourseDetail extends Component {\n  \n  constructor(props) {\n    super(props);\n    this.state = {\n      course: [],\n      user: [],\n    }\n    this.handleDelete = this.handleDelete.bind(this);\n  }\n\n  // state = {\n  //   course: {},\n  //   id: this.props.match.params.id,\n  //   fullName: '',\n  // };\n\n  componentDidMount() {\n    const { match: { params } } = this.props;\n    \n  \n  \n  /***\n  * Fetch the list of courses from the API using axios\n  ***/\n    axios\n      .get(`http://localhost:5000/api/courses/${params.id}`)\n      .then(res => {\n        this.setState({\n          course: res.data,\n          user: res.data.User,\n        });\n      })\n      //Catch and handle errors\n      .catch(err => {\n        if (err.response.status === 400) {\n          this.props.history.push('/notfound');\n        } else {\n          console.error('Error fetching and parsing data', err);\n          this.props.history.push('/error');\n        }\n      });\n  }\n\n  handleDelete() {\n    const { match: { params }, history } = this.props;\n\n    axios\n      .delete(`http://localhost:5000/api/courses/${params.id}`, {\n        auth: {\n          username: window.localStorage.getItem(\"Email\"),\n          password: window.localStorage.getItem(\"Password\"),\n        }\n      })\n      .then(() => {\n        history.push('/');\n      })\n      .catch(err => {\n        history.push('/error');\n      })\n  }\n\n  render () {\n\n    const { course, user } = this.state;\n    const isLoggedIn = localStorage.getItem(\"IsLoggedIn\");\n    const UserId = JSON.parse(localStorage.getItem(\"UserId\"));\n    // const { id, course, fullName } = this.state;\n    // const props = useSpring({opacity: 1, from: {opacity: 0}})\n\n    return (\n      // <animated.dv style={props}>\n      <Spring from={{ opacity: 0 }} to={{ opacity: 1}}>\n        {props => (\n          <div style={props}>\n            <div className=\"actions--bar\">\n              <div className=\"bounds\">\n                <div className=\"grid-100\">\n                  {(isLoggedIn && user.id === UserId) ? (\n                    <div>\n                      <span>\n                        <Link className=\"button\" to={`/courses/${id}/update`}>\n                          Update Course\n                        </Link>\n                        <button className=\"button\" to=\"/\">\n                          Delete Course\n                        </button>\n                      </span>\n                      <Link className=\"button button-secondary\" to=\"/\">\n                        Return to List\n                      </Link>\n                    </div>\n                  ) : ''}\n                </div>\n              </div>\n            </div>\n            <div className=\"bounds course--detail\">\n              <div className=\"grid-66\">\n                <div className=\"course--header\">\n                  <h4 className=\"course--label\">Course</h4>\n                  <h3 className=\"course--title\">{course.title}</h3>\n                  <p>By {user.firstName} {user.lastName}</p>\n                </div>\n                <div className=\"course-description\">\n                  <ReactMarkdown source={course.description} />\n                </div>\n              </div>\n              <div className=\"grid-25 grid-right\">\n                <div className=\"course--stats\">\n                  <ul className=\"course--stats--list\">\n                    <li className=\"course--stats--list--item\">\n                      <h4>Estimated Time</h4>\n                      <h3>{course.estimatedTime}</h3>\n                    </li>\n                    <li className=\"course--stats--list--item\">\n                      <h4>Materials Needed</h4>\n                      <ul>\n                        <ReactMarkdown source={course.materialsNeeded} />\n                      </ul>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </Spring>\n      // </animated.dv>\n    )\n  }\n\n}\n\nexport default CourseDetail;\n"]},"metadata":{},"sourceType":"module"}